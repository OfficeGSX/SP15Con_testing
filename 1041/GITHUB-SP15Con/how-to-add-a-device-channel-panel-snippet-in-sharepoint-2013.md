---
title: SharePoint Server 2013 でのデバイス チャネル パネル スニペットを追加する方法
ms.prod: SHAREPOINT
ms.assetid: 612780a8-6267-49f6-a32d-33600bb5f6b4
---


# SharePoint Server 2013 でのデバイス チャネル パネル スニペットを追加する方法
デバイス チャネル パネルは、マスター ページまたはページ レイアウトに追加できるスニペットであり、作成するチャネルごとにどんなコンテンツをレンダリングするかを制御できます。デバイス チャネル パネルの主な目的は、単一のページ レイアウトからチャネルに応じて異なるページ フィールドを選択的に表示することです。
## デバイス チャネル パネル スニペットの概要
<a name="Introduction"> </a>

デバイス チャネル パネルは、マスター ページまたはページ レイアウトに追加できるコントロールであり、作成する各チャネルでレンダリングされるコンテンツを制御します。デバイス チャネル パネルは、1 つまたは複数のチャネルを指定するコンテナーです。ページがレンダリングされるときにそれらのチャネルのうち 1 つ以上がアクティブになっている場合、デバイス チャネル パネルのすべてのコンテンツもレンダリングされます。デバイス チャネル パネルには、CSS ファイルや .js ファイルへのリンクなど、ほぼ任意の種類のコンテンツを含めることができます。これは、特定のチャネルの特定のコンテンツを含める場合に簡単な方法です。
  
    
    
デバイス チャネル パネルの使用に関する最も一般的なシナリオは、特定のチャネルのページ レイアウトの一部を選択的に含める場合です。たとえば、長いあいさつ文と短いあいさつ文の別々のテキスト フィールドを含むページ レイアウトを使用するとします。デバイス チャネル パネルの内部にページ フィールドを配置することによって、短いあいさつ文は電話に、長いあいさつ文はデスクトップにだけ表示できます。デバイス チャネル パネルのコンテンツは、含まれていないチャネルには表示されません。実際、コンテンツはまったくレンダリングされないので、回線上をデータが移動することはありません。このため、デバイス チャネル パネルを使用すると特定のチャネルでのページの重さが減るので、 `Display:None` を指定して CSS クラスを使用するより、特定のチャネルでのコンテンツの表示には優れた方法です。
  
    
    
デバイス チャネル パネルをマスター ページで使用することもできます。たとえば、2 つの異なるデバイス (または 2 つの異なるブラウザー) への対応が可能なマスター ページをほとんど変更せずに使用している場合、デバイス チャネル パネルを使用して、いずれかのデバイスに特定のマスター ページのコンテンツを保持することができます。
  
    
    
デバイス チャネル パネルの使用に関しては、2 つの制限があります。
  
    
    

- **表示テンプレート**: 表示テンプレートはクライアント側でレンダリングされ、デバイス チャネル パネルはサーバー側で実行されるので、表示テンプレート内でデバイス チャネル テンプレートを使用することはできません。ページ レイアウト上のデバイス チャネル パネル内で 2 つの異なるコンテンツ検索 Web パーツを使用するか、または JavaScript 変数を使用して表示テンプレート自体の内部で目的の動作をトリガーする必要があります。
    
  
- **Web パーツ領域**: Web パーツ領域をデバイス チャネル パネルの内部に挿入することはできません。作成者がページに Web パーツを追加できるようにする必要があり、モバイル デバイスに対するページの負荷が問題にならない場合は、リッチ テキスト エディター ページ フィールドをデバイス チャネル パネルに追加し、そこに Web パーツを追加するように作成者に指示します。Web パーツはデバイス チャネル パネルに直接 (Web パーツ領域なしで) 追加できます。
    
  

## デバイス チャネル パネル スニペットの挿入
<a name="InsertSnippet"> </a>

どのようなスニペットでも同じですが、デバイス チャネル派熱スニペットもスニペット ギャラリーから追加します。スニペット ギャラリーに移動するには、最初に編集するマスター ページまたはページ レイアウトを選択する必要があります。
  
    
    

### デバイス チャネル パネル スニペットを挿入する方法


1. 発行サイトに移動します。
    
  
2. ページの右上隅で、歯車の形の [設定] アイコンをクリックし、[ **デザイン マネージャー**] をクリックします。
    
  
3. デザイン マネージャーの左のナビゲーション ウィンドウで、編集しているファイルの種類によって、[ **マスター ページの編集**] または [ **ページ レイアウトの編集**] をクリックします。
    
  
4. スニペットを追加するマスター ページまたはページ レイアウトの名前を選択します。
    
  
5. スニペット ギャラリーを開くには、サーバー側プレビューの右上隅で、[ **スニペット**] をクリックします。
    
  
6. リボンの [ **デザイン**] タブで、[ **デバイス チャネル パネル**] を選択します。
    
  
7. スニペット ギャラリーの右側の [ **このコンポーネントについて**] の下で、セクション ヘッダーをクリックまたは選択して、プロパティのグループを展開するか、折りたたむかして、必要なカスタム設定を構成します。
    
    [ **重要**] という名前のセクションには、この特定のスニペットの動作にとって重要であるプロパティが含まれます。デバイス チャネル パネルの場合は、 **IncludedChannels** プロパティが最も重要です。このプロパティには、このデバイス チャネル パネルに含まれるコンテンツを表示する各デバイス チャネルのエイリアスを入力します。複数のエイリアスを入力する場合は、コンマで区切ります。
    
    > **メモ**
      > [デバイス チャネル] の一覧でチャネルのエイリアスを編集する場合は、デザイン ファイルでそのエイリアスが出現するすべての場所を手作業で探して更新する必要があります。これには、そのエイリアスを使用しているすべてのデバイス チャネル パネルの **IncludedChannels** プロパティの更新も含まれます。
8. 他のプロパティを構成した後、[ **更新**] をクリックします。これによって、ページの左側の HTML スニペットが更新され、マークアップにカスタム設定が反映されます。いつでも [ **リセット**] をクリックして、すべてのプロパティを既定の設定に戻すことができます。
    
  
9. スニペット ギャラリーの左側で、[ **HTML スニペット**] の下の [ **クリップボードにコピー**] をクリックします。
    
  
10. HTML エディターで、コンピューター上のマップされたネットワーク ドライブを開き、スニペットを追加するマスター ページまたはページ レイアウトの HTML ファイルを開きます。
    
    詳細については、「 [[方法]: SharePoint 2013 マスター ページ ギャラリーへのネットワーク ドライブの割り当て](how-to-map-a-network-drive-to-the-sharepoint-2013-master-page-gallery.md)」を参照してください。
    
  
11. HTML ファイルの中の、マークアップを表示する場所にスニペットを貼り付けます。
    
    ページ レイアウトにスニペットを追加している場合は、 **PlaceHolderMain** の内部にスニペットを貼り付けてください。
    
  
12.  `class="DefaultContentBlock"` の **<div>** を独自のコンテンツに置き換えます。
    
    通常、デバイス チャネル パネルをページ レイアウトに追加している場合は、パネルの内部にページ フィールドをコピーすることによって **<div>** を置き換えます。
    
  
13. ページを保存し、デザイン マネージャーでサーバー側プレビューを更新して、デバイス チャネル パネルが意図したとおりに表示されることを確認します。
    
    異なるチャネルでパネルをプレビューするには、クエリ文字列パラメーターを URL に追加できます。たとえば、サーバー側プレビューでは任意のページの URL にクエリ文字列変数  `"DeviceChannel=YourChannelAlias"` を追加できます。
    
  

## スニペット マークアップの理解
<a name="UnderstandMarkup"> </a>

デバイス チャネル パネルのスニペットで最も重要な 2 つの部分は、 **IncludedChannels** プロパティと、 `class="DefaultContentBlock"` である **<div>** です。既定では、 **IncludedChannels** プロパティは空です。プロパティ グリッドの [ **重要**] セクションに、そのパネルにコンテンツを表示するデバイス チャネルのエイリアスをコンマで区切って入力する必要があります。
  
    
    

> **メモ**
> [デバイス チャネル] の一覧でエイリアスを変更した場合は、マークアップでそのエイリアスが出現するすべての場所でそのエイリアスを変更する必要もあります。これには、そのエイリアスを使用しているすべてのデバイス チャネル パネルの **IncludedChannels** プロパティ内も含まれます。
  
    
    

 `class="DefaultContentBlock"` である **<div>** は、含まれるチャネルで表示する特定のコンテンツで置き換える必要があります。デバイス チャネル パネルは、CSS ファイルや .js ファイルへのリンクなど、ほぼすべての種類のコンテンツを含むことができます。デバイス チャネル パネルを使用する最も一般的なシナリオは、特定のチャネルに対してページ レイアウトの特定のページ フィールドを含めることです。この場合は、デバイス チャネル パネルの内部で **<div>** が配置される場所にページ フィールド マークアップをコピーします。
  
    
    



```HTML

<div data-name="DeviceChannelPanel">
    <!--CS: Start Device Channel Panel Snippet-->
    <!--SPM:<%@Register Tagprefix="Publishing" Namespace="Microsoft.SharePoint.Publishing.WebControls" Assembly="Microsoft.SharePoint.Publishing, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c"%>-->
    <!--MS:<Publishing:DeviceChannelPanel runat="server" IncludedChannels="MyPhoneChannel, MyTabletChannel">-->
        <!--PS: Start of READ-ONLY PREVIEW (do not modify)--><!--PE: End of READ-ONLY PREVIEW-->
       <div class="DefaultContentBlock" style="border:medium black solid; background:yellow; color:black; margin:20px; padding:10px;">
        You should replace this div with content that renders based on your Device Channel Panel Properties.    
        </div>
        <!--PS: Start of READ-ONLY PREVIEW (do not modify)--><!--PE: End of READ-ONLY PREVIEW-->
    <!--ME:</Publishing:DeviceChannelPanel>-->
    <!--CE: End Device Channel Panel Snippet-->
</div>

```


## その他の技術情報
<a name="AdditionalResources"> </a>


-  [SharePoint 2013 デザイン マネージャー スニペット](sharepoint-2013-design-manager-snippets.md)
    
  
-  [SharePoint 2013 デザイン マネージャーのデバイス チャネル](sharepoint-2013-design-manager-device-channels.md)
    
  
-  [SharePoint サイトの構築](build-sites-for-sharepoint.md)
    
  
-  [SharePoint 2013 のサイト デザインの開発](develop-the-site-design-in-sharepoint-2013.md)
    
  

